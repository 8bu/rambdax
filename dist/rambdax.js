var t=require("rambda");var r=["Null","Undefined","RegExp"];var n=t.curry(function r(n,e){var o=Object.assign({},e),i=t.filter(function(t){return void 0!==o[t]})(Object.keys(n));return 0===i.length?e:(i.map(function(e){var i=n[e];"Function"===t.type(i)?o[e]=i(o[e]):"Object"===t.type(i)&&(o[e]=r(i,o[e]))}),o)});function e(t){return function(r){return new Promise(function(n,e){return n(t(r))})}}function o(r){return["Async","Promise"].includes(t.type(r))}function i(t,r){return new Promise(function(n,e){var o=function(t){try{throw t}catch(t){return e(t)}};try{var i;if(Array.isArray(r)){var u,s,c;function p(){var t=c();return a.bind(this,t[0],t[1])}function a(r,n){return c=function(){return[r,n]},!(n[1]=n[0].next()).done&&(r=n[1].value,1)?t(r).then(function(t){try{return u.push(t),p}catch(t){return o(t)}},o):[1]}return u=[],(s=function(t){for(;t;){if(t.then)return void t.then(s,o);try{if(t.pop){if(t.length)return t.pop()?f.call(this):t;t=p}else t=t.call(this)}catch(t){return o(t)}}}.bind(this))(a.bind(this,void 0,[r[Symbol.iterator]()]));function f(){return n(u)}}i={};var l,h,x=[];for(l in r)x.push(l);function d(n){return x.length?(n=x.shift(),t(r[n],n).then(function(t){try{return i[n]=t,d}catch(t){return o(t)}},o)):[1]}return(h=function(t){for(;t;){if(t.then)return void t.then(h,o);try{if(t.pop){if(t.length)return t.pop()?v.call(this):t;t=d}else t=t.call(this)}catch(t){return o(t)}}}.bind(this))(d.bind(this,void 0));function v(){return n(i)}}catch(t){o(t)}})}function u(t,r){return new Promise(function(n,e){var o=function(t){try{throw t}catch(t){return e(t)}};try{var i;return i=r.map(function(r){return t(r)}),Promise.all(i).then(n,o)}catch(t){o(t)}})}var s={},c=function(r){if("String"===t.type(r))return r;if(["Function","Async"].includes(t.type(r))){var n=t.replace(/\s{1,}/g," ",r.toString());return t.replace(/\s/g,"_",t.take(15,n))}var e,o;return"Object"===t.type(r)&&(e=r,o={},t.compose(t.map(function(t){return o[t]=e[t]}),t.sort(function(t,r){return t>r}))(Object.keys(e)),r=o),JSON.stringify(r)},p=function(t){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];var e="";return r.map(function(t){e+=c(t)+"_"}),""+e+c(t)};function a(t,r){return t.split("\n").filter(function(t){return t.trim().length>0}).map(function(t){return t.trim()}).join(r||" ")}function f(r){var n=r.input,e=r.schema;if("Object"===t.type(n)&&"Object"===t.type(e)){var o=!0,i=function(t){t||(o=!1)};for(var u in e)if(o){var s=u.endsWith("?"),c=s?t.init(u):u,p=e[u],a=t.type(p),l=n[c],h=t.type(n[c]);if(!(s&&void 0!==l||!s))continue;if("Object"===a)i(f({input:l,schema:p}));else if("String"===a)i(t.toLower(h)===p);else if("function"==typeof p)i(p(l));else if("Array"===a&&"String"===h)i(t.contains(l,p));else if("Array"===a&&1===p.length&&"Array"===h){var x=p[0],d=t.type(p[0]);if(i("String"===d||"Object"===d),"String"===d)i(!t.any(function(r){return t.type(r).toLowerCase()!==x},l));if("Object"===d)i(t.all(function(t){return f({input:t,schema:x})},l))}else i("RegExp"===a&&"String"===h&&t.test(p,l))}return o}return!1}function l(t,r){var n;return function(){return t&&(n=t.apply(r||this,arguments),t=null),n}}function h(r){var n=r.condition,e=r.inputArgument,o=r.prop;return new Promise(function(r,i){if("Async"!==t.type(n))return r({type:o,payload:n(e)});n(e).then(function(t){r({type:o,payload:t})}).catch(function(t){return i(t)})})}var x=function(t){return new Promise(function(r){t.then(function(t){r({payload:t,type:"RESULT"})}).catch(function(t){r({payload:t,type:"ERROR"})})})};var d=Symbol("NO_MATCH_FOUND"),v=function(r,n){return void 0===n&&(n=!0),{key:r,test:function(e){return function(r,n){return"function"==typeof r?r(n):t.equals(r,n)}(r,e)?n:d}}},y=function(t,r,n){return void 0!==t&&void 0===r&&void 0===n?(this.cases=[],this.defaultValue=void 0,this.willMatch=t):(this.cases=r,this.defaultValue=t,this.willMatch=n),this};y.prototype.default=function(t){return new y(t,this.cases,this.willMatch).match(this.willMatch)},y.prototype.is=function(t,r){return new y(this.defaultValue,this.cases.concat([v(t,r)]),this.willMatch)},y.prototype.match=function(t){return function(t,r,n){for(var e,o=0;o<t.length;o++)if((e=t[o].test(r))!==d)return e;return n}(this.cases,t,this.defaultValue)};var m=function(t){return t.match(/{{[_a-zA-Z0-9]+}}/g)},g=function(t){return t.replace(/{{|}}/g,"")},w=function(t){return t.inputHolder.replace("{{"+t.prop+"}}",t.replacer)};var b=t.add,A=t.addIndex,P=t.adjust,O=t.all,j=t.allPass,k=t.always,B=t.any,E=t.anyPass,S=t.append,M=t.assoc,L=t.both,q=t.complement,T=t.compose,F=t.concat,R=t.contains,N=t.curry,W=t.dec,_=t.defaultTo,z=t.dissoc,D=t.divide,I=t.drop,U=t.dropLast,C=t.either,V=t.endsWith,H=t.equals,Y=t.F,X=t.filter,J=t.find,Z=t.findIndex,G=t.flatten,K=t.flip,Q=t.forEach,$=t.groupBy,tt=t.has,rt=t.head,nt=t.identity,et=t.ifElse,ot=t.inc,it=t.includes,ut=t.indexBy,st=t.indexOf,ct=t.init,pt=t.is,at=t.isNil,ft=t.join,lt=t.keys,ht=t.last,xt=t.lastIndexOf,dt=t.length,vt=t.map,yt=t.match,mt=t.merge,gt=t.max,wt=t.maxBy,bt=t.min,At=t.minBy,Pt=t.modulo,Ot=t.multiply,jt=t.none,kt=t.not,Bt=t.nth,Et=t.omit,St=t.partialCurry,Mt=t.path,Lt=t.pathOr,qt=t.pick,Tt=t.pickAll,Ft=t.pipe,Rt=t.pluck,Nt=t.prepend,Wt=t.prop,_t=t.propEq,zt=t.range,Dt=t.reduce,It=t.reject,Ut=t.repeat,Ct=t.replace,Vt=t.reverse,Ht=t.sort,Yt=t.sortBy,Xt=t.split,Jt=t.splitEvery,Zt=t.startsWith,Gt=t.subtract,Kt=t.T,Qt=t.tail,$t=t.take,tr=t.takeLast,rr=t.tap,nr=t.test,er=t.times,or=t.toLower,ir=t.toString,ur=t.toUpper,sr=t.trim,cr=t.type,pr=t.uniq,ar=t.uniqWith,fr=t.update,lr=t.values,hr=t.without,xr=t.zip,dr=t.zipObj;exports.DELAY="RAMBDAX_DELAY",exports.add=b,exports.addIndex=A,exports.adjust=P,exports.all=O,exports.allPass=j,exports.always=k,exports.any=B,exports.anyPass=E,exports.append=S,exports.assoc=M,exports.both=L,exports.complement=q,exports.compose=T,exports.concat=F,exports.contains=R,exports.curry=N,exports.dec=W,exports.defaultTo=_,exports.dissoc=z,exports.divide=D,exports.drop=I,exports.dropLast=U,exports.either=C,exports.endsWith=V,exports.equals=H,exports.F=Y,exports.filter=X,exports.find=J,exports.findIndex=Z,exports.flatten=G,exports.flip=K,exports.forEach=Q,exports.groupBy=$,exports.has=tt,exports.head=rt,exports.identity=nt,exports.ifElse=et,exports.inc=ot,exports.includes=it,exports.indexBy=ut,exports.indexOf=st,exports.init=ct,exports.is=pt,exports.isNil=at,exports.join=ft,exports.keys=lt,exports.last=ht,exports.lastIndexOf=xt,exports.length=dt,exports.map=vt,exports.match=yt,exports.merge=mt,exports.max=gt,exports.maxBy=wt,exports.min=bt,exports.minBy=At,exports.modulo=Pt,exports.multiply=Ot,exports.none=jt,exports.not=kt,exports.nth=Bt,exports.omit=Et,exports.partialCurry=St,exports.path=Mt,exports.pathOr=Lt,exports.pick=qt,exports.pickAll=Tt,exports.pipe=Ft,exports.pluck=Rt,exports.prepend=Nt,exports.prop=Wt,exports.propEq=_t,exports.range=zt,exports.reduce=Dt,exports.reject=It,exports.repeat=Ut,exports.replace=Ct,exports.reverse=Vt,exports.sort=Ht,exports.sortBy=Yt,exports.split=Xt,exports.splitEvery=Jt,exports.startsWith=Zt,exports.subtract=Gt,exports.T=Kt,exports.tail=Qt,exports.take=$t,exports.takeLast=tr,exports.tap=rr,exports.test=nr,exports.times=er,exports.toLower=or,exports.toString=ir,exports.toUpper=ur,exports.trim=sr,exports.type=cr,exports.uniq=pr,exports.uniqWith=ar,exports.update=fr,exports.values=lr,exports.without=hr,exports.zip=xr,exports.zipObj=dr,exports.allTrue=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return t.filter(Boolean).length===t.length},exports.allFalse=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return 0===t.length||t.filter(function(t){return!1===Boolean(t)}).length===t.length},exports.compact=function(n){return t.filter(function(n){var e=t.type(n);return!r.includes(e)&&("Object"===e?!t.equals(n,{}):0!==n.length)},n)},exports.composeAsync=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];try{return function(n){return new Promise(function(e,o){var i,u;function s(){if(0===r.length)return[1];{var n;return n=r.pop(),"Async"===t.type(n)||"Promise"===t.type(n)?n(i).then(function(t){try{return i=t,e.call(this)}catch(t){return o(t)}}.bind(this),o):(i=n(i),e.call(this));function e(){return s}}}return i=n,(u=function(t){for(;t;){if(t.then)return void t.then(u,o);try{if(t.pop){if(t.length)return t.pop()?c.call(this):t;t=s}else t=t.call(this)}catch(t){return o(t)}}}.bind(this))(s);function c(){return e(i)}})}}catch(t){throw t}},exports.debounce=function(t,r,n){var e;return void 0===n&&(n=!1),function(){for(var o=[],i=arguments.length;i--;)o[i]=arguments[i];var u=n&&!e;clearTimeout(e),e=setTimeout(function(){e=null,n||t.apply(null,o)},r),u&&t.apply(null,o)}},exports.delay=function(t){return new Promise(function(r){setTimeout(function(){r("RAMBDAX_DELAY")},t)})},exports.evolve=n,exports.greater=function t(r,n){return void 0===n?function(n){return t(r,n)}:n>r},exports.ifElseAsync=function t(r,n,o){return void 0===n?function(n,e){return t(r,n,e)}:void 0===o?function(e){return t(r,n,e)}:function(t){return new Promise(function(i,u){var s=e(r),c=e(n),p=e(o);s(t).then(function(r){(!0===r?c:p)(t).then(i).catch(u)}).catch(u)})}},exports.inject=function(r,n,e){return t.replace(n,""+n+r,e)},exports.intersection=function r(n,e){return void 0===e?function(t){return r(n,t)}:t.filter(function(t){return e.includes(t)})(n)},exports.isPromise=o,exports.less=function t(r,n){return void 0===n?function(n){return t(r,n)}:n<r},exports.mapAsync=function(t,r){return void 0===r?function(r){return new Promise(function(n,e){return i(t,r).then(n,e)})}:new Promise(function(n,e){i(t,r).then(n).catch(e)})},exports.mapFastAsync=function(t,r){return void 0===r?function(r){return new Promise(function(n,e){return u(t,r).then(n,e)})}:new Promise(function(n,e){u(t,r).then(n).catch(e)})},exports.memoize=function r(n){for(var e=[],o=arguments.length-1;o-- >0;)e[o]=arguments[o+1];if(1===arguments.length)return function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r.apply(void 0,[n].concat(t))};var i=p.apply(void 0,[n].concat(e));if(i in s)return s[i];if("Async"===t.type(n))return new Promise(function(t){n.apply(void 0,e).then(function(r){s[i]=r,t(r)})});var u=n.apply(void 0,e);return s[i]=u,u},exports.mergeAll=function(r){var n={};return t.map(function(r){n=t.merge(n,r)},r),n},exports.multiline=function(t,r){return"string"==typeof t?a(t,r):a(t[0])},exports.ok=function(t,r){return 2===arguments.length?f({input:t,schema:r}):function(r){return f({input:t,schema:r})}},exports.omitBy=function t(r,n){if(1===arguments.length)return function(n){return t(r,n)};var e={};for(var o in n)r(o,n[o])||(e[o]=n[o]);return e},exports.once=function(r,n){if(1===arguments.length){var e=l(r,n);return t.curry(e)}return l(r,n)},exports.pickBy=function t(r,n){if(1===arguments.length)return function(n){return t(r,n)};var e={};for(var o in n)r(o,n[o])&&(e[o]=n[o]);return e},exports.produce=function r(n,e){if(1===arguments.length)return function(t){return r(n,t)};var o=!1;for(var i in n)!1===o&&"Async"===t.type(n[i])&&(o=!0);if(!1===o){var u={};for(var s in n)u[s]=n[s](e);return u}var c=[];for(var p in n)c.push(h({inputArgument:e,condition:n[p],prop:p}));return new Promise(function(r,n){Promise.all(c).then(function(n){var e={};t.map(function(t){return e[t.type]=t.payload},n),r(e)}).catch(function(t){return n(t)})})},exports.random=function(t,r){return Math.floor(Math.random()*(r-t+1))+t},exports.rangeBy=function r(n,e,o){if(void 0===e)return function(t,e){return r(n,t,e)};if(void 0===o)return function(t){return r(n,e,t)};var i=!o.toString().includes(".");if(n>e){var u=n;n=e,e=u}var s=[n],c=n;if(i)for(var p=0,a=t.range(0,Math.floor((e-n)/o));p<a.length;p+=1)s.push(c+=o);else for(var f=t.compose(t.length,t.last,t.split("."))(o.toString()),l=0,h=t.range(0,Math.floor((e-n)/o));l<h.length;l+=1)c+=o,s.push(Number(c.toFixed(f)));return s},exports.renameProps=function r(n,e){if(void 0===e)return function(t){return r(n,t)};var o={};return Object.keys(n).map(function(t){Object.keys(e).includes(t)&&(o[n[t]]=e[t])}),t.merge(o,t.omit(Object.keys(n),e))},exports.resolve=function(t){return new Promise(function(r,n){var e=0,o={},i=[];for(var u in t)o[e]=u,i.push(t[u]),e++;Promise.all(i).then(function(t){var n={};t.map(function(t,r){n[o[r]]=t}),r(n)}).catch(n)})},exports.resolveSecure=function(r){return new Promise(function(n,e){var o=function(t){try{return console.log(t),function(){try{return n()}catch(t){return e(t)}}()}catch(t){return e(t)}};try{var i;return i=t.map(function(t){return x(t)},r),Promise.all(i).then(n,o)}catch(t){o(t)}})},exports.shuffle=function(t){for(var r=t.concat(),n=r.length;n>0;){var e=Math.floor(Math.random()*n),o=r[--n];r[n]=r[e],r[e]=o}return r},exports.switcher=function(t){return new y(t)},exports.tapAsync=function t(r,n){return 1===arguments.length?function(n){return t(r,n)}:!0===o(r)?new Promise(function(t,e){r(n).then(function(){t(n)}).catch(e)}):(r(n),n)},exports.throttle=function(t,r){var n=!1;return function(){for(var e=[],o=arguments.length;o--;)e[o]=arguments[o];n||(t.apply(null,e),n=!0,setTimeout(function(){n=!1},r))}},exports.template=function(t,r){var n=m(t);if(null===n)return t;for(var e=t,o=0,i=n;o<i.length;o+=1){var u=g(i[o]),s=r[u];void 0!==s&&(e=w({inputHolder:e,prop:u,replacer:s}))}return e},exports.when=function t(r,n){return void 0===n?function(n){return t(r,n)}:function(t){return("boolean"==typeof r?r:r(t))?n(t):t}},exports.whenAsync=function t(r,n){return void 0===n?function(r,n){return t(r,n)}:function(t){return new Promise(function(e,o){if("boolean"==typeof r){if(!1===r)return e(t);n(t).then(e).catch(o)}else(i=r,function(t){return new Promise(function(r,n){return r(i(t))})})(t).then(function(r){if(!1===r)return e(t);n(t).then(e).catch(o)}).catch(o);var i})}},exports.where=function t(r,n){if(void 0===n)return function(n){return t(r,n)};var e=!0;for(var o in r){var i=r[o](n[o]);e&&!1===i&&(e=!1)}return e};
//# sourceMappingURL=rambdax.js.map
