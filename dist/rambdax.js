var t=require("rambda");var r=t.curry(function(t,r,e){var n="string"==typeof t?t.split("."):t,o={};o[n[n.length-1]]=r;for(var i=n.length-2;i>-1;)(o={})[n[i]]=o,i--;return Object.assign({},e,o)}),e=["Null","Undefined","RegExp"];var n=t.curry(function r(e,n){var o=Object.assign({},n),i=t.filter(function(t){return void 0!==o[t]})(Object.keys(e));return 0===i.length?n:(i.map(function(n){var i=e[n];"Function"===t.type(i)?o[n]=i(o[n]):"Object"===t.type(i)&&(o[n]=r(i,o[n]))}),o)});function o(t){return function(r){return new Promise(function(e,n){return e(t(r))})}}function i(r){return["Async","Promise"].includes(t.type(r))}function u(t,r){return new Promise(function(e,n){var o=function(t){try{throw t}catch(t){return n(t)}};try{var i;if(Array.isArray(r)){var u,s,c;function p(){var t=c();return a.bind(this,t[0],t[1])}function a(r,e){return c=function(){return[r,e]},!(e[1]=e[0].next()).done&&(r=e[1].value,1)?t(r).then(function(t){try{return u.push(t),p}catch(t){return o(t)}},o):[1]}return u=[],(s=function(t){for(;t;){if(t.then)return void t.then(s,o);try{if(t.pop){if(t.length)return t.pop()?f.call(this):t;t=p}else t=t.call(this)}catch(t){return o(t)}}}.bind(this))(a.bind(this,void 0,[r[Symbol.iterator]()]));function f(){return e(u)}}i={};var l,h,x=[];for(l in r)x.push(l);function y(e){return x.length?(e=x.shift(),t(r[e],e).then(function(t){try{return i[e]=t,y}catch(t){return o(t)}},o)):[1]}return(h=function(t){for(;t;){if(t.then)return void t.then(h,o);try{if(t.pop){if(t.length)return t.pop()?d.call(this):t;t=y}else t=t.call(this)}catch(t){return o(t)}}}.bind(this))(y.bind(this,void 0));function d(){return e(i)}}catch(t){o(t)}})}function s(t,r){return new Promise(function(e,n){var o=function(t){try{throw t}catch(t){return n(t)}};try{var i;return i=r.map(function(r){return t(r)}),Promise.all(i).then(e,o)}catch(t){o(t)}})}var c={},p=function(r){if("String"===t.type(r))return r;if(["Function","Async"].includes(t.type(r))){var e=t.replace(/\s{1,}/g," ",r.toString());return t.replace(/\s/g,"_",t.take(15,e))}var n,o;return"Object"===t.type(r)&&(n=r,o={},t.compose(t.map(function(t){return o[t]=n[t]}),t.sort(function(t,r){return t>r}))(Object.keys(n)),r=o),JSON.stringify(r)},a=function(t){for(var r=[],e=arguments.length-1;e-- >0;)r[e]=arguments[e+1];var n="";return r.map(function(t){n+=p(t)+"_"}),""+n+p(t)};function f(t,r){var e;return function(){return t&&(e=t.apply(r||this,arguments),t=null),e}}function l(r){var e=r.condition,n=r.inputArgument,o=r.prop;return new Promise(function(r,i){if("Async"!==t.type(e))return r({type:o,payload:e(n)});e(n).then(function(t){r({type:o,payload:t})}).catch(function(t){return i(t)})})}var h=function(t){return new Promise(function(r){t.then(function(t){r({payload:t,type:"RESULT"})}).catch(function(t){r({payload:t,type:"ERROR"})})})};var x=Symbol("NO_MATCH_FOUND"),y=function(r,e){return void 0===e&&(e=!0),{key:r,test:function(n){return function(r,e){return"function"==typeof r?r(e):t.equals(r,e)}(r,n)?e:x}}},d=function(t,r,e){return void 0!==t&&void 0===r&&void 0===e?(this.cases=[],this.defaultValue=void 0,this.willMatch=t):(this.cases=r,this.defaultValue=t,this.willMatch=e),this};d.prototype.default=function(t){return new d(t,this.cases,this.willMatch).match(this.willMatch)},d.prototype.is=function(t,r){return new d(this.defaultValue,this.cases.concat([y(t,r)]),this.willMatch)},d.prototype.match=function(t){return function(t,r,e){for(var n,o=0;o<t.length;o++)if((n=t[o].test(r))!==x)return n;return e}(this.cases,t,this.defaultValue)};var v=t.add,m=t.addIndex,g=t.adjust,w=t.all,b=t.allPass,P=t.always,A=t.any,O=t.anyPass,j=t.append,k=t.assoc,E=t.both,S=t.complement,B=t.compose,M=t.concat,L=t.contains,q=t.curry,T=t.dec,R=t.defaultTo,F=t.dissoc,N=t.divide,D=t.drop,I=t.dropLast,W=t.either,_=t.endsWith,z=t.equals,U=t.F,V=t.filter,C=t.find,Y=t.findIndex,X=t.flatten,H=t.flip,J=t.forEach,G=t.groupBy,K=t.has,Q=t.head,Z=t.identity,$=t.ifElse,tt=t.inc,rt=t.includes,et=t.indexBy,nt=t.indexOf,ot=t.init,it=t.is,ut=t.isNil,st=t.join,ct=t.keys,pt=t.last,at=t.lastIndexOf,ft=t.length,lt=t.map,ht=t.match,xt=t.merge,yt=t.max,dt=t.maxBy,vt=t.min,mt=t.minBy,gt=t.modulo,wt=t.multiply,bt=t.none,Pt=t.not,At=t.nth,Ot=t.omit,jt=t.partialCurry,kt=t.path,Et=t.pathOr,St=t.pick,Bt=t.pickAll,Mt=t.pipe,Lt=t.pluck,qt=t.prepend,Tt=t.prop,Rt=t.propEq,Ft=t.range,Nt=t.reduce,Dt=t.reject,It=t.repeat,Wt=t.replace,_t=t.reverse,zt=t.sort,Ut=t.sortBy,Vt=t.split,Ct=t.splitEvery,Yt=t.startsWith,Xt=t.subtract,Ht=t.T,Jt=t.tail,Gt=t.take,Kt=t.takeLast,Qt=t.tap,Zt=t.test,$t=t.times,tr=t.toLower,rr=t.toString,er=t.toUpper,nr=t.trim,or=t.type,ir=t.uniq,ur=t.uniqWith,sr=t.update,cr=t.values,pr=t.without,ar=t.zip,fr=t.zipObj;exports.DELAY="RAMBDAX_DELAY",exports.add=v,exports.addIndex=m,exports.adjust=g,exports.all=w,exports.allPass=b,exports.always=P,exports.any=A,exports.anyPass=O,exports.append=j,exports.assoc=k,exports.both=E,exports.complement=S,exports.compose=B,exports.concat=M,exports.contains=L,exports.curry=q,exports.dec=T,exports.defaultTo=R,exports.dissoc=F,exports.divide=N,exports.drop=D,exports.dropLast=I,exports.either=W,exports.endsWith=_,exports.equals=z,exports.F=U,exports.filter=V,exports.find=C,exports.findIndex=Y,exports.flatten=X,exports.flip=H,exports.forEach=J,exports.groupBy=G,exports.has=K,exports.head=Q,exports.identity=Z,exports.ifElse=$,exports.inc=tt,exports.includes=rt,exports.indexBy=et,exports.indexOf=nt,exports.init=ot,exports.is=it,exports.isNil=ut,exports.join=st,exports.keys=ct,exports.last=pt,exports.lastIndexOf=at,exports.length=ft,exports.map=lt,exports.match=ht,exports.merge=xt,exports.max=yt,exports.maxBy=dt,exports.min=vt,exports.minBy=mt,exports.modulo=gt,exports.multiply=wt,exports.none=bt,exports.not=Pt,exports.nth=At,exports.omit=Ot,exports.partialCurry=jt,exports.path=kt,exports.pathOr=Et,exports.pick=St,exports.pickAll=Bt,exports.pipe=Mt,exports.pluck=Lt,exports.prepend=qt,exports.prop=Tt,exports.propEq=Rt,exports.range=Ft,exports.reduce=Nt,exports.reject=Dt,exports.repeat=It,exports.replace=Wt,exports.reverse=_t,exports.sort=zt,exports.sortBy=Ut,exports.split=Vt,exports.splitEvery=Ct,exports.startsWith=Yt,exports.subtract=Xt,exports.T=Ht,exports.tail=Jt,exports.take=Gt,exports.takeLast=Kt,exports.tap=Qt,exports.test=Zt,exports.times=$t,exports.toLower=tr,exports.toString=rr,exports.toUpper=er,exports.trim=nr,exports.type=or,exports.uniq=ir,exports.uniqWith=ur,exports.update=sr,exports.values=cr,exports.without=pr,exports.zip=ar,exports.zipObj=fr,exports.assocPath=r,exports.compact=function(r){return t.filter(function(r){var n=t.type(r);return!e.includes(n)&&("Object"===n?!t.equals(r,{}):0!==r.length)},r)},exports.composeAsync=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];try{return function(e){return new Promise(function(n,o){var i,u;function s(){if(0===r.length)return[1];{var e;return e=r.pop(),"Async"===t.type(e)||"Promise"===t.type(e)?e(i).then(function(t){try{return i=t,n.call(this)}catch(t){return o(t)}}.bind(this),o):(i=e(i),n.call(this));function n(){return s}}}return i=e,(u=function(t){for(;t;){if(t.then)return void t.then(u,o);try{if(t.pop){if(t.length)return t.pop()?c.call(this):t;t=s}else t=t.call(this)}catch(t){return o(t)}}}.bind(this))(s);function c(){return n(i)}})}}catch(t){throw t}},exports.debounce=function(t,r,e){var n;return void 0===e&&(e=!1),function(){for(var o=[],i=arguments.length;i--;)o[i]=arguments[i];var u=e&&!n;clearTimeout(n),n=setTimeout(function(){n=null,e||t.apply(null,o)},r),u&&t.apply(null,o)}},exports.delay=function(t){return new Promise(function(r){setTimeout(function(){r("RAMBDAX_DELAY")},t)})},exports.debug=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];console.log.apply(console,t),process.exit()},exports.evolve=n,exports.greater=function t(r,e){return void 0===e?function(e){return t(r,e)}:e>r},exports.ifElseAsync=function t(r,e,n){return void 0===e?function(e,n){return t(r,e,n)}:void 0===n?function(n){return t(r,e,n)}:function(t){return new Promise(function(i,u){var s=o(r),c=o(e),p=o(n);s(t).then(function(r){(!0===r?c:p)(t).then(i).catch(u)}).catch(u)})}},exports.inject=function(r,e,n){return t.replace(e,""+e+r,n)},exports.isPromiseLike=i,exports.isValid=function r(e){var n=e.input,o=e.schema;if("Object"===t.type(n)&&"Object"===t.type(o)){var i=!0,u=function(t){t||(i=!1)};for(var s in o)if(i){var c=o[s],p=t.type(c),a=n[s],f=t.type(n[s]);if("Object"===p)u(r({input:a,schema:c}));else if("String"===p)u(t.toLower(f)===c);else if("function"==typeof c)u(c(a));else if("Array"===p&&"String"===f)u(t.contains(a,c));else if("Array"===p&&1===c.length&&"Array"===f){var l=c[0],h=t.type(c[0]);u("String"===h||"Object"===h),"String"===h&&u(!t.any(function(r){return t.type(r).toLowerCase()!==l},a)),"Object"===h&&u(t.all(function(t){return r({input:t,schema:l})},a))}else u("RegExp"===p&&"String"===f&&t.test(c,a))}return i}return!1},exports.less=function t(r,e){return void 0===e?function(e){return t(r,e)}:e<r},exports.mapAsync=function(t,r){return void 0===r?function(r){return new Promise(function(e,n){return u(t,r).then(e,n)})}:new Promise(function(e,n){u(t,r).then(e).catch(n)})},exports.mapFastAsync=function(t,r){return void 0===r?function(r){return new Promise(function(e,n){return s(t,r).then(e,n)})}:new Promise(function(e,n){s(t,r).then(e).catch(n)})},exports.memoize=function r(e){for(var n=[],o=arguments.length-1;o-- >0;)n[o]=arguments[o+1];if(1===arguments.length)return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return r.apply(void 0,[e].concat(t))};var i=a.apply(void 0,[e].concat(n));if(i in c)return c[i];if("Async"===t.type(e))return new Promise(function(t){e.apply(void 0,n).then(function(r){c[i]=r,t(r)})});var u=e.apply(void 0,n);return c[i]=u,u},exports.mergeAll=function(r){var e={};return t.map(function(r){e=t.merge(e,r)},r),e},exports.omitBy=function t(r,e){if(1===arguments.length)return function(e){return t(r,e)};var n={};for(var o in e)r(o,e[o])||(n[o]=e[o]);return n},exports.once=function(r,e){if(1===arguments.length){var n=f(r,e);return t.curry(n)}return f(r,e)},exports.pickBy=function t(r,e){if(1===arguments.length)return function(e){return t(r,e)};var n={};for(var o in e)r(o,e[o])&&(n[o]=e[o]);return n},exports.produce=function r(e,n){if(1===arguments.length)return function(t){return r(e,t)};var o=!1;for(var i in e)!1===o&&"Async"===t.type(e[i])&&(o=!0);if(!1===o){var u={};for(var s in e)u[s]=e[s](n);return u}var c=[];for(var p in e)c.push(l({inputArgument:n,condition:e[p],prop:p}));return new Promise(function(r,e){Promise.all(c).then(function(e){var n={};t.map(function(t){return n[t.type]=t.payload},e),r(n)}).catch(function(t){return e(t)})})},exports.random=function(t,r){return Math.floor(Math.random()*(r-t+1))+t},exports.rangeBy=function r(e,n,o){if(void 0===n)return function(t,n){return r(e,t,n)};if(void 0===o)return function(t){return r(e,n,t)};var i=!o.toString().includes(".");if(e>n){var u=e;e=n,n=u}var s=[e],c=e;if(i)for(var p=0,a=t.range(0,Math.floor((n-e)/o));p<a.length;p+=1)s.push(c+=o);else for(var f=t.compose(t.length,t.last,t.split("."))(o.toString()),l=0,h=t.range(0,Math.floor((n-e)/o));l<h.length;l+=1)c+=o,s.push(Number(c.toFixed(f)));return s},exports.renameProps=function r(e,n){if(void 0===n)return function(t){return r(e,t)};var o={};return Object.keys(e).map(function(t){Object.keys(n).includes(t)&&(o[e[t]]=n[t])}),t.merge(o,t.omit(Object.keys(e),n))},exports.resolve=function(t){return new Promise(function(r,e){var n=0,o={},i=[];for(var u in t)o[n]=u,i.push(t[u]),n++;Promise.all(i).then(function(t){var e={};t.map(function(t,r){e[o[r]]=t}),r(e)}).catch(e)})},exports.resolveSecure=function(r){return new Promise(function(e,n){var o=function(t){try{return console.log(t),function(){try{return e()}catch(t){return n(t)}}()}catch(t){return n(t)}};try{var i;return i=t.map(function(t){return h(t)},r),Promise.all(i).then(e,o)}catch(t){o(t)}})},exports.shuffle=function(t){for(var r=t.concat(),e=r.length;e>0;){var n=Math.floor(Math.random()*e),o=r[--e];r[e]=r[n],r[n]=o}return r},exports.switcher=function(t){return new d(t)},exports.tapAsync=function t(r,e){return 1===arguments.length?function(e){return t(r,e)}:!0===i(r)?new Promise(function(t,n){r(e).then(function(){t(e)}).catch(n)}):(r(e),e)},exports.throttle=function(t,r){var e=!1;return function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];e||(t.apply(null,n),e=!0,setTimeout(function(){e=!1},r))}},exports.when=function t(r,e){return void 0===e?function(e){return t(r,e)}:function(t){return("boolean"==typeof r?r:r(t))?e(t):t}},exports.whenAsync=function t(r,e){return void 0===e?function(r,e){return t(r,e)}:function(t){return new Promise(function(n,o){if("boolean"==typeof r){if(!1===r)return n(t);e(t).then(n).catch(o)}else(i=r,function(t){return new Promise(function(r,e){return r(i(t))})})(t).then(function(r){if(!1===r)return n(t);e(t).then(n).catch(o)}).catch(o);var i})}},exports.where=function t(r,e){if(void 0===e)return function(e){return t(r,e)};var n=!0;for(var o in r){var i=r[o](e[o]);n&&!1===i&&(n=!1)}return n};
//# sourceMappingURL=rambdax.js.map
